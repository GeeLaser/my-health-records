const nodemailer = require('nodemailer');

const account = {
    user: "alessia.bailey55@ethereal.email",
    pass: "u3SCskWvB6xmTHSF2X"
};

// setup email options with unicode symbols
let mailOptions = {
    from: '"Fred Foo " <foo@example.com>', // sender address
    to: "bar@example.com, baz@example.com", // list of receivers
    subject: "Testing Email - 1", // subject line
    text: "This is a test.", // plain text body
    html: "<b>Welcome to the Test</b>", // html body
    /*
    attachments: [
        {
            // file on computer as attachment
            filename: 'test.jpg',
            path: __dirname+'/test.jpg' // stream this file
        },
    ]
    */
};

let transporter = nodemailer.createTransport({
    host: 'smtp.ethereal.email',
    port: 587,
    secure = false,
    auth: {
        user: account.user,
        pass: account.pass
    },
});

// send mail with defined transport object
transporter.sendMail(mailOptions, (error, info ) => {
    if (error) {
        return console.log(error);
    }
    console.log('Message sent: #s', info.messageId);

    console.log('Preview URL: #s', nodemailer.getTestMessageUrl(info));

    
});